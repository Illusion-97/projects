<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="fr" th:replace="~{fragments/byId.html :: byId(~{ :: form})}">
    <form th:remove="tag">
            <div class="col-12">
                <label>
                    Nom du projet :
                    <input type="text" name="nom" th:field="*{nom}">
                </label>
            </div>

        <div class="col-6 col-12-xsmall">
            <label>
                Competences :
                <select name="competences" th:field="*{competences}" required multiple>
                    <option th:each="comp : ${comps}" th:text="${comp.nom}" th:value="${comp.id}"></option>
                </select>
            </label>
        </div>
        <div class="col-6 col-12-xsmall">
            <label>
                Participants :
                <select name="participants" th:field="*{participants}" required multiple>
                    <option th:each="etudiant : ${etudiants}" th:text="${etudiant.nom}" th:value="${etudiant.id}"></option>
                </select>
            </label>
        </div>

        <div class="col-12">
            <label>Contenus :</label>
            <div th:each="contenu, stats : *{contenus}" style="position: relative">
                <a class="button small primary" style="position: absolute; right: 0; padding: 0; aspect-ratio: 1">X</a>
                <textarea style="margin-bottom: 1em" name="contenu" rows="4" th:field="*{contenus[__${stats.index}__]}"></textarea>
            </div>
            <a class="button small primary" th:href="${#strings.concat('/',path,'/addContent/',element.id)}">Ajouter</a>
        </div>
    </form>
</html>
